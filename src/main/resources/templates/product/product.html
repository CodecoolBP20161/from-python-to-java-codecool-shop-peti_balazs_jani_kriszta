<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head th:replace="product/fragments/head::head"></head>
<body>
<div class="container">
    <!--Navbar-->
    <nav th:replace="product/fragments/navbar::reduced_navbar"></nav>
</div>

<div class="container">
    <!-- display product -->
    <div class="item col-xs-8 col-lg-6">
        <div class="row">
        <div class="show_product">
            <h2 class="group inner list-group-item-heading" th:text="${product.name}">Product name</h2>
            <p class="group inner list-group-item-text" th:text="${product.description}">Product
                description... </p>
            <img class="group list-group-image" src="http://placehold.it/400x250/000/fff"
                 th:attr="src='/img/product_' + ${product.id} + '.jpg'" th:alt="${product.name}"/>
        </div>
        </div>
        <div class="row">
            <div class="col-xs-6 col-md-6">
                <p class="lead" th:text="${product.getPrice()}">100 USD</p>
            </div>
        </div>
    </div>

    <!--display form-->
    <form th:action="'/newReview/' + ${product.name}" method="post">
        <div class="form-group col-xs-6 col-lg-6">
            <div class="col-xs-6 col-md-6">
                <input type="text" class="hidden" name="id" th:value="${product.id}"/>
                <input id="msg" type="text" class="form-control" name="name" placeholder="Name" value="Anonymous"></input>
            </div>
            <div class="col-xs-6 col-lg-6">
                <select class="form-control" name="ratings">
                    <option value="" disabled="true" selected="true">Rate</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
            </div>
            <div class="form-group col-xs-12 col-lg-12">
                <textarea class="form-control col-xs-1 col-md-1" rows="5" id="comment" name="comment" placeholder="Write a review"></textarea>
            </div>
            <button name="id" id="save" type="submit" class="btn btn-default submit-button">Submit review</button>
        </div>
    </form>

    <!--display local reviews-->
    <div class="col-xs-6 col-lg-6" id="listing-reviews" th:each="review,iterStat : ${moderated}">
        <div class="list-group">
            <div class="col-xs-6 col-lg-6">
                <h4 class="list-group-item-heading" th:text="${review.name}">Name</h4>
            </div>
            <div class="col-xs-6 col-lg-6">
                <h4 class="list-group-item-heading" th:text="${review.rating}">Ratings</h4>
            </div>
            <div class="col-xs-12 col-lg-12">
                <p class="list-group-item-text" th:text="${review.comment}">Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit.</p>
            </div>
        </div>
    </div>

    <!--display reviews from google via finder service-->
    <div class="item col-xs-12 col-lg-12">
        <div class="row">
            <h3>Reviews:</h3>
            <div class="col-xs-12 col-md-12" th:each="review,iterStat : ${reviews}">
                <p class="lead" th:text="${review.text}">text</p>
                <a th:href="${review.url}" th:text="${review.url}">Url</a>
            </div>
        </div>
    </div>
</div>
</body>
</html>